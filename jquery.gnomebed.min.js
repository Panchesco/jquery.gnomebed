!function(t){var e={url:"",endpoint:"http://noembed.com/embed?url=",maxwidth:"",maxheight:"",target:"",player:function(){$.ajax({method:"GET",url:this.endpoint+this.url,dataType:"json",target:this.target}).done(function(t){$(this.target).html(t.html)})}};$.fn.gnomebed=function(t){function r(t,e){switch(d.mode){case"append":$(e).append(t);break;case"prepend":$(e).prepend(t);break;default:$(e).html(t)}}function n(t){switch(d.attr){case"text":return $(t).text().trim();default:return $(t).attr(d.attr)}}function o(t){var e=t.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return null!=e?e[1]:null}function a(t){return html="",u(),endpoint="https://www.youtube.com/embed/",id=o(t),id&&(html+='<iframe width="'+d.maxwidth+'" height="'+d.maxheight+'" src="'+endpoint+id+u()+'" frameborder="0" allowfullscreen></iframe>'),html}function u(){var t=["showinfo","controls","rel","autoplay","vq"];for(str="?",i=0;i<t.length;i++)opt=t[i],str+=t[i]+"="+d.youtube[opt],i!=t.length-1&&(str+="&amp;");return str}function l(t){return t.replace(/[^0-9]+/g,"")}function h(t){return html="",m(),endpoint="https://player.vimeo.com/video/",id=l(t),id&&(html+='<iframe width="'+d.maxwidth+'" height="'+d.maxheight+'" src="'+endpoint+id+m()+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),html}function m(){var t=["autopause","autoplay","badge","byline","color","loop","player_id","portrait","title"];for(str="?",i=0;i<t.length;i++)opt=t[i],str+=t[i]+"="+d.vimeo[opt],i!=t.length-1&&(str+="&amp;");return str}var d=$.extend({mode:"replace",attr:"text",nowrap:"on",maxwidth:800,maxheight:450},t);provider=function(t){return-1!=t.search(/soundcl/i)?"soundcloud":-1!=t.search(/vimeo/i)?"vimeo":-1!=t.search(/YouTu/i)?"youtube":"unknown"},$(this).each(function(){noembed=function(t,r){"on"==d.nowrap&&(t=t+"&nowrap="+d.nowrap),void 0!=d.maxwidth&&(t=t+"&maxwidth="+d.maxwidth),void 0!=d.maxheight&&(t=t+"&maxheight="+d.maxheight),noembed=e,noembed.url=t,noembed.target=r,noembed.player()},url=n(this),p=provider(url);var t=$(this);switch(p){case"youtube":d.youtube?r(a(url),t):noembed(url,t);break;case"vimeo":d.vimeo?r(h(url),t):noembed(url,t);break;default:noembed(url,t)}})}}(jQuery);
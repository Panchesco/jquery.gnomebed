(function(a){var b={url:"",endpoint:"http://noembed.com/embed?url=",maxwidth:"",maxheight:"",target:"",player:function(){$.ajax({method:"GET",url:this.endpoint+this.url,dataType:"json",target:this.target}).done(function(c){$(this.target).html(c.html)})}};$.fn.gnomebed=function(m){var e=$.extend({mode:"replace",attr:"text",nowrap:"on",maxwidth:800,maxheight:450},m);function d(n,o){switch(e.mode){case"append":$(o).append(n);break;case"prepend":$(o).prepend(n);break;default:$(o).html(n)}}provider=function(n){if(n.search(/soundcl/i)!=-1){return"soundcloud"}if(n.search(/vimeo/i)!=-1){return"vimeo"}if(n.search(/YouTu/i)!=-1){return"youtube"}return"unknown"};function k(n){switch(e.attr){case"text":url=$(n).text().trim();break;default:url=$(n).attr(e.attr)}return url}$(this).each(function(){noembed=function(o,q){if(e.nowrap=="on"){o=o+"&nowrap="+e.nowrap}if(e.maxwidth!==undefined){o=o+"&maxwidth="+e.maxwidth}if(e.maxheight!==undefined){o=o+"&maxheight="+e.maxheight}noembed=b;noembed.url=o;noembed.target=q;noembed.player()};k(this);p=provider(url);var n=$(this);switch(p){case"youtube":if(e.youtube){d(g(url),n)}else{noembed(url,n)}break;case"vimeo":if(e.vimeo){d(f(url),n)}else{noembed(url,n)}break;default:noembed(url,n)}});function c(n){var o=n.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);if(o!==null){return o[1]}else{return null}}function g(n){html="";h();endpoint="https://www.youtube.com/embed/";id=c(n);if(id){html+='<iframe width="'+e.maxwidth+'" height="'+e.maxheight+'" src="'+endpoint+id+h()+'" frameborder="0" allowfullscreen></iframe>'}return html}function h(){var n=["showinfo","controls","rel","autoplay","vq"];str="?";for(i=0;i<n.length;i++){opt=n[i];str+=n[i]+"="+e.youtube[opt];if(i!=(n.length-1)){str+="&amp;"}}return str}function l(n){return n.replace(/[^0-9]+/g,"")}function f(n){html="";j();endpoint="https://player.vimeo.com/video/";id=l(n);if(id){html+='<iframe width="'+e.maxwidth+'" height="'+e.maxheight+'" src="'+endpoint+id+j()+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'}return html}function j(){var n=["autopause","autoplay","badge","byline","color","loop","player_id","portrait","title"];str="?";for(i=0;i<n.length;i++){opt=n[i];str+=n[i]+"="+e.vimeo[opt];if(i!=(n.length-1)){str+="&amp;"}}return str}}})(jQuery);
!function(a){var b={url:"",endpoint:"http://noembed.com/embed?url=",maxwidth:"",maxheight:"",target:"",player:function(){$.ajax({method:"GET",url:this.endpoint+this.url,dataType:"json",target:this.target}).done(function(a){$(this.target).html(a.html)})}};$.fn.gnomebed=function(a){function c(a,b){switch(l.mode){case"append":$(b).append(a);break;case"prepend":$(b).prepend(a);break;default:$(b).html(a)}}function d(a){switch(l.attr){case"text":$(a).text().trim();break;default:return $(a).attr(l.attr)}}function e(a){var b=a.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return null!==b?b[1]:null}function f(a){return html="",g(),endpoint="https://www.youtube.com/embed/",id=e(a),id&&(html+='<iframe width="'+l.maxwidth+'" height="'+l.maxheight+'" src="'+endpoint+id+g()+'" frameborder="0" allowfullscreen></iframe>'),html}function g(){var a=["showinfo","controls","rel","autoplay","vq"];for(str="?",i=0;i<a.length;i++)opt=a[i],str+=a[i]+"="+l.youtube[opt],i!=a.length-1&&(str+="&amp;");return str}function h(a){return a.replace(/[^0-9]+/g,"")}function j(a){return html="",k(),endpoint="https://player.vimeo.com/video/",id=h(a),id&&(html+='<iframe width="'+l.maxwidth+'" height="'+l.maxheight+'" src="'+endpoint+id+k()+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),html}function k(){var a=["autopause","autoplay","badge","byline","color","loop","player_id","portrait","title"];for(str="?",i=0;i<a.length;i++)opt=a[i],str+=a[i]+"="+l.vimeo[opt],i!=a.length-1&&(str+="&amp;");return str}var l=$.extend({mode:"replace",attr:"text",nowrap:"on",maxwidth:800,maxheight:450},a);provider=function(a){return-1!=a.search(/soundcl/i)?"soundcloud":-1!=a.search(/vimeo/i)?"vimeo":-1!=a.search(/YouTu/i)?"youtube":"unknown"},$(this).each(function(){noembed=function(a,c){"on"==l.nowrap&&(a=a+"&nowrap="+l.nowrap),void 0!==l.maxwidth&&(a=a+"&maxwidth="+l.maxwidth),void 0!==l.maxheight&&(a=a+"&maxheight="+l.maxheight),noembed=b,noembed.url=a,noembed.target=c,noembed.player()},url=d(this),p=provider(url);var a=$(this);switch(p){case"youtube":l.youtube?c(f(url),a):noembed(url,a);break;case"vimeo":l.vimeo?c(j(url),a):noembed(url,a);break;default:noembed(url,a)}})}}(jQuery);
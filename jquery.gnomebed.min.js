!function(t){var e={url:"",endpoint:"http://noembed.com/embed?url=",maxwidth:"",maxheight:"",nowrap:"on",target:"",player:function(){$.ajax({method:"GET",url:this.endpoint+this.url,dataType:"json",target:this.target}).done(function(t){$(this.target).html(t.html)})}};$.fn.gnomebed=function(t){function r(t,e){switch(h.mode){case"append":$(e).append(t);break;case"prepend":$(e).prepend(t);break;default:$(e).html(t)}}function n(t){switch(h.attr){case"text":return $(t).text().trim();default:return $(t).attr(h.attr)}}function o(t){var e=t.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return null!=e?e[1]:null}function a(t){return html="",u(),endpoint="https://www.youtube.com/embed/",id=o(t),id&&(html+='<iframe width="'+h.maxwidth+'" height="'+h.maxheight+'" src="'+endpoint+id+u()+'" frameborder="0" allowfullscreen></iframe>'),html}function u(){var t=["showinfo","controls","rel","autoplay","vq"];for(str="?",i=0;i<t.length;i++)opt=t[i],str+=t[i]+"="+h.youtube[opt],i!=t.length-1&&(str+="&amp;");return str}var h=$.extend({mode:"replace",attr:"text",nowrap:"on",maxwidth:800,maxheight:450},t);provider=function(t){return-1!=t.search(/soundcl/i)?"soundcloud":-1!=t.search(/vimeo/i)?"vimeo":-1!=t.search(/YouTu/i)?"youtube":"unknown"},$(this).each(function(){url=n(this),p=provider(url),"on"==h.nowrap&&(url=url+"&nowrap="+h.nowrap),void 0!=h.maxwidth&&(url=url+"&maxwidth="+h.maxwidth),void 0!=h.maxheight&&(url=url+"&maxheight="+h.maxheight);var t=$(this);switch(p){case"youtube":h.youtube?r(a(url),t):(noembed=e,noembed.url=url,noembed.target=t,noembed.player());break;default:noembed=e,noembed.url=url,noembed.target=t,noembed.player()}})}}(jQuery);